<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pacotes de Viagem com Desconto: Melhores Ofertas Nacionais e Internacionais | FSR Viagens | 5% OFF VIP</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EB762TMB8T"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-EB762TMB8T'); 
    </script>
    
    <link rel="stylesheet" href="/static/style.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <meta name="description" content="Sua consultoria de viagens especializada. Encontre pacotes exclusivos para Gramado, Nordeste (Porto de Galinhas/Maragogi) e Roteiros Internacionais. Ative seu Desconto VIP de 5% OFF e compre agora.">
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Estilos de highlight existentes... */
        @keyframes highlight {
            0% { box-shadow: 0 0 10px rgba(0, 123, 255, 0.4); }
            50% { box-shadow: 0 0 20px rgba(0, 123, 255, 0.8); }
            100% { box-shadow: 0 0 10px rgba(0, 123, 255, 0.4); }
        }
        .form.highlighted {
            animation: highlight 2s ease-in-out 1;
            border: 2px solid #007bff;
            border-radius: 8px;
            padding: 15px; /* Ajuste o padding se necess√°rio */
            margin-top: 20px; /* Adicionado para n√£o cortar o box-shadow */
            margin-bottom: 20px;
        }
        /* Garantir que o form original n√£o tenha borda */
        .form {
            transition: all 0.5s;
        }

        /* --- ESTILOS ESPEC√çFICOS PARA A OFERTA MSC BINGO --- */
        .oferta-container {
            font-family: Arial, sans-serif;
            max-width: 750px; /* Adapta ao container padr√£o do seu site, se houver */
            margin: 40px auto;
            border: 2px solid #004481; /* Borda da MSC */
            padding: 0;
            background-color: #f7f7f7;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .oferta-header {
            background-color: #004481;
            color: #fff;
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
        }

        .oferta-header a {
            color: #fff;
            text-decoration: underline;
            font-weight: normal;
            font-size: 0.9em;
        }

        .oferta-body {
            padding: 15px;
        }

        .info-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #ccc;
        }

        .info-section img {
            max-width: 80px;
            height: auto;
        }

        .section-title {
            color: #004481;
            font-size: 1.5em;
            margin-top: 15px;
            margin-bottom: 10px;
            font-weight: 700;
            text-align: center;
        }

        .super-bingo-tag {
            background-color: #f7a01c;
            color: #fff;
            padding: 5px 10px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
            font-size: 0.9em;
            border-radius: 3px;
        }

        /* Estrutura dos Cards de Cruzeiro */
        .cruzeiro-card-grid {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .cruzeiro-card {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            text-align: center;
            flex: 1 1 200px; /* Garante 3 por linha em telas maiores */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .cruzeiro-card img {
            max-width: 100%;
            height: auto;
            margin-bottom: 10px;
        }

        .cruzeiro-card .navio-nome {
            color: #004481;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 2px;
        }

        .cruzeiro-card .detalhes {
            font-size: 0.85em;
            margin-bottom: 8px;
        }

        .cruzeiro-card .preco-label {
            font-size: 0.75em;
            display: block;
            color: #555;
            margin-top: 5px;
        }

        .cruzeiro-card .preco {
            color: #e50020;
            font-size: 1.6em;
            font-weight: bold;
            display: block;
        }

        .cruzeiro-card .parcela {
            font-size: 0.8em;
            display: block;
            margin-bottom: 10px;
            color: #333;
        }

        .btn-reserva-msc {
            background-color: #00b050;
            color: #fff;
            padding: 8px 15px;
            text-decoration: none;
            font-weight: bold;
            display: block;
            border-radius: 5px;
            transition: background-color 0.3s;
            margin-top: 10px;
        }
        .btn-reserva-msc:hover {
            background-color: #009944;
        }

        /* Se√ß√£o de Regras e Rodap√© */
        .regras-section {
            background-color: #fff;
            padding: 15px;
            border-top: 2px dashed #ddd;
            margin-top: 20px;
        }
        
        .regras-section h4 {
            color: #004481;
            font-size: 1.1em;
            margin-bottom: 10px;
            text-align: center;
        }

        .regra-item {
            font-size: 0.8em;
            margin-bottom: 10px;
            padding-left: 10px;
            position: relative;
            line-height: 1.3;
        }
        
        .regra-item:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #e50020;
            font-weight: bold;
        }
        
        .oferta-footer {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #eee;
            text-align: center;
            font-size: 0.7em;
            color: #666;
        }

        /* Adapta√ß√£o dos cards de benef√≠cio originais do seu HTML */
        .beneficios-grid {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        .beneficio-item-msc {
            background-color: #eaf1f7;
            padding: 10px;
            font-style: italic;
            border-left: 5px solid #f7a01c;
            flex: 1 1 200px;
            font-size: 0.9em;
            min-height: 60px;
            display: flex;
            align-items: center;
            text-align: center;
        }

        .btn-ver-todas-msc {
            display: block;
            width: 80%;
            max-width: 300px;
            margin: 20px auto;
            background-color: #f7a01c;
            color: #fff;
            padding: 12px 30px;
            text-decoration: none;
            font-weight: bold;
            border-radius: 5px;
            text-align: center;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }
        .btn-ver-todas-msc:hover {
            background-color: #e09015;
        }

        /* Regras da tabela */
        .regras-tabela {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-size: 0.75em;
        }

        .regras-tabela th, .regras-tabela td {
            border: 1px solid #ddd;
            padding: 5px;
            text-align: left;
        }
        
        .regras-tabela th {
            background-color: #f4f4f4;
            font-weight: bold;
            color: #004481;
        }

        /* Responsividade b√°sica para celular */
        @media (max-width: 600px) {
            .oferta-container {
                margin: 20px 5px;
            }
            .info-section {
                flex-direction: column;
                align-items: flex-start;
            }
            .cruzeiro-card-grid {
                flex-direction: column;
            }
            .cruzeiro-card {
                 flex: 1 1 100%;
            }
            .beneficios-grid {
                flex-direction: column;
            }
            .beneficio-item-msc {
                flex: 1 1 100%;
            }
        }
        /* --- FIM ESTILOS ESPEC√çFICOS PARA A OFERTA MSC BINGO --- */
    </style>

</head>
<body>
    <div id="root">
    </div>

    <script type="text/babel">
{% raw %}
        // Endpoints e Constantes
        const WHATSAPP_NUMBER = '5561983163710'; 
        const API_LEAD_URL = '/capturar_lead';
        const TELEFONE_REGEX = /^\d{10,11}$/; 
        
        // Gatilho de Compra / Desconto VIP
        const PROSPECT_DISCOUNT = '5%'; 

        // --- DADOS ESTATICOS: ESTE BLOCO DEVE SER ATUALIZADO A CADA 3 DIAS PELO SEU SCRIPT DE BACKEND ---
        
        const getImageUrl = (key) => {
            const IMAGENS = {
                // ... (IMAGENS MANTIDAS)
                'Len√ß√≥is Maranhenses': '/static/Duna-e-agua-dos-lencois-Maranhenses.jpg', 
                'Tail√¢ndia': '/static/Festival_Lanternas_Chiang_Mai_Tailandia_Fogos.jpg', 
                'Gramado': '/static/GramadoSuaViagem-GrandeDesfileDeNatal2.webp', 
                'Porto de Galinhas': '/static/dicas-de-porto-de-galinhas.jpg', 
                'Salvador': '/static/tucamorais3.jpg', 
                'Egito': 'https://images.unsplash.com/photo-1523451551525-2c8c5026c483?w=400&h=200&fit-crop', 
                'Turquia': 'https://images.unsplash.com/photo-1582035900554-75af47f2010c?w=400&h=200&fit-crop', 
                'Customizado': 'https://images.unsplash.com/photo-1454486518536-54a86b3a0e63?w=400&h=200&fit-crop',
            };
            return IMAGENS[key] || IMAGENS['Customizado']; 
        };

        // VARI√ÅVEL QUE DEVE SER SOBRESCRITA A CADA 3 DIAS PELO SEU CRON JOB
        // NOTA: O script de backend injetar√° aqui 5 pacotes (nome, saida, etc.) + o card de Consultoria
        const DADOS_ESTATICOS_ATUALIZAVEIS = [
            // ESTE BLOCO SER√Å TOTALMENTE SUBSTITU√çDO PELO CRON JOB
            { id: 101, nome: "Porto de Galinhas e Maragogi", saida: "Londrina e Maring√°", tipo: "NACIONAL", desc: "üê† O melhor do Nordeste! Mergulhe nas piscinas naturais e desfrute do famoso 'Caribe Brasileiro'.", imgKey: 'Porto de Galinhas', opcoes: [] },
            { id: 102, nome: "Salvador com Morro de S√£o Paulo", saida: "Variadas (Bloqueios Nacionais)", tipo: "NACIONAL", desc: "üèùÔ∏è Combina√ß√£o imbat√≠vel de cidade hist√≥rica e ilha sem carros. Descanse e explore Morro de S√£o Paulo.", imgKey: 'Salvador', opcoes: [] },
            { id: 103, nome: "Len√ß√≥is Maranhenses | S√£o Lu√≠s e Barreirinhas", saida: "Bras√≠lia (Bloqueios)", tipo: "NACIONAL", desc: "üíß Descubra a beleza surreal das lagoas entre dunas. Um ecoturismo inesquec√≠vel.", imgKey: 'Len√ß√≥is Maranhenses', opcoes: [] },
            { id: 104, nome: "Gramado | Natal Luz e Roteiro de Vinhos", saida: "S√£o Paulo, Porto Alegre e Curitiba", tipo: "NACIONAL", desc: "üç∑ Experi√™ncia completa com o Natal Luz e tours pelas vin√≠colas da Serra Ga√∫cha.", imgKey: 'Gramado', opcoes: [] },
            { id: 105, nome: "R√©veillon na Tail√¢ndia com Festival das Lanternas", saida: "Variadas (Bloqueios Internacionais)", tipo: "INTERNACIONAL", desc: "üéá Celebre a virada com o m√°gico Festival das Lanternas (Yi Peng). Praias e templos milenares.", imgKey: 'Tail√¢ndia', opcoes: [] },
            { id: 999, nome: "Consultoria Personalizada / Outro Destino", saida: "Seu aeroporto de prefer√™ncia", tipo: "CONSULTORIA", desc: "‚ú® Destino Sob Medida: Crie seu roteiro do zero e garanta seu Desconto VIP na primeira compra com nossa consultoria especializada.", imgKey: 'Customizado' }
        ];
        // -----------------------------------------------------

        // REVIS√ÉO DE TEXTOS PARA COER√äNCIA (MANTIDO)
        const DESCRITIVOS_ROTEIROS = {
            "Fortaleza com Praia da Lagoinha": "‚òÄÔ∏è Roteiro perfeito para quem ama sol, mar e aventura. Inclui a beleza r√∫stica da Praia da Lagoinha e o agito da capital cearense.",
            "Salvador com Morro de S√£o Paulo": "üèùÔ∏è Uma combina√ß√£o imbat√≠vel de cidade hist√≥rica e ilha sem carros. Descanse e explore as famosas praias de Morro de S√£o Paulo.",
            "Egito 2X1 | Pacote 08 dias e 07 noites": "üê™ Pacote 2X1: uma jornada pela hist√≥ria milenar, pir√¢mides e cruzeiro pelo Nilo. Oportunidade √∫nica para ir al√©m do comum!",
            "R√©veillon na Tail√¢ndia com Festival das Lanternas": "üéá Celebre a virada do ano com o m√°gico Festival das Lanternas (Yi Peng). Praias paradis√≠acas e templos milenares esperam por voc√™.",
            "Len√ß√≥is Maranhenses | S√£o Lu√≠s e Barreirinhas": "üíß Descubra a beleza surreal das lagoas entre dunas. Um ecoturismo inesquec√≠vel combinando S√£o Lu√≠s e Barreirinhas.",
            "Porto de Galinhas e Maragogi": "üê† O melhor do Nordeste! Mergulhe nas piscinas naturais e desfrute do famoso 'Caribe Brasileiro'.",
            "R√©veillon 2026 - Cost√£o do Santinho Resort": "üéâ R√©veillon All Inclusive em um dos resorts mais desejados do Brasil. Garanta sua vaga com as melhores condi√ß√µes.",
            "Grand Turquia Extra Essencial": "üáπüá∑ Pacote Essencial pela Turquia, visitando Istambul, Capad√≥cia e Pamukkale. Cultura, hist√≥ria e paisagens inesquec√≠veis.",
            "Consultoria Personalizada / Outro Destino": "‚ú® Destino Sob Medida: Voc√™ tem em mente um roteiro que n√£o encontrou na lista? Nossa consultoria criar√° o pacote perfeito para voc√™!",
        };

        const getMinDate = () => {
            const date = new Date();
            date.setDate(date.getDate() + 4); 
            return date.toISOString().split('T')[0];
        };
        
        const obterDescritivoRoteiro = (pacoteNomeCompleto) => {
            if (pacoteNomeCompleto.includes("Consultoria Personalizada")) {
                return DESCRITIVOS_ROTEIROS["Consultoria Personalizada / Outro Destino"];
            }
            const nomeBase = pacoteNomeCompleto.split('|')[0].trim(); 
            if (DESCRITIVOS_ROTEIROS[nomeBase]) {
                return DESCRITIVOS_ROTEIROS[nomeBase];
            }
            return `‚úàÔ∏è Consultoria Exclusiva: Conte-nos seus sonhos para criarmos uma experi√™ncia incomum e aplicarmos seu ${PROSPECT_DISCOUNT} de Desconto VIP!`;
        };
        
        // --- COMPONENTE: Card de Pacote Individual (MANTIDO) ---
        const PacoteCard = ({ pacote, onSelect, isSelected }) => {
            // ... (L√≥gica do PacoteCard mantida) ...
            const nomeCompleto = pacote.nome + (pacote.saida ? ` | Sa√≠da: ${pacote.saida}` : '');
            
            if (pacote.tipo === 'CONSULTORIA') {
                return (
                    <div className={`pacote-card card-consultoria ${isSelected ? 'pacote-card--selecionado' : ''}`}>
                        <i className="fas fa-magic" style={{ fontSize: '40px', marginBottom: '15px' }}></i>
                        <h3>
                            {pacote.nome} 
                            <span style={{display: 'block', fontSize: '0.6em', fontWeight: 'normal', marginTop: '5px'}}>(Seu Roteiro √önico com Assessoria Exclusiva)</span>
                        </h3>
                        <p>{pacote.desc}</p>
                        <button 
                            className="btn-selecionar" 
                            onClick={() => onSelect(pacote.nome)}
                        >
                            <i className="fas fa-tools"></i> Iniciar Planejamento VIP
                        </button>
                    </div>
                );
            }

            // Simula√ß√£o de dados de pre√ßo para que o card renderize (j√° que o scraping n√£o os fornece)
            const precoInfo = pacote.opcoes && pacote.opcoes.length > 0
                ? pacote.opcoes.reduce((min, current) => {
                    if (!min || current.preco < min.preco) {
                        return current;
                    }
                    return min;
                }, null)
                : null;
                
            const precoMaisBaixoParcela = precoInfo ? precoInfo.preco : null;
            const precoTotal = precoInfo ? precoInfo.preco_total : null;
            const moedaSimbolo = precoInfo && precoInfo.moeda === 'USD' ? 'US$' : 'R$' ;


            return (
                <div className={`pacote-card ${isSelected ? 'pacote-card--selecionado' : ''}`} style={{position: 'relative'}}>
                    <img 
                        src={getImageUrl(pacote.imgKey)} 
                        alt={`Imagem de ${pacote.nome}`} 
                        loading="lazy"
                        width="400" 
                        height="200"
                    />
                    <div className="pacote-content">
                        <h3><i className={`fas fa-${pacote.tipo === 'NACIONAL' ? 'plane-departure' : 'globe-americas'}`}></i> {pacote.nome}</h3>
                        {/* Se o pacote n√£o tiver 'opcoes', ele mostrar√° 'Consulte' e Sa√≠da */}
                        <p className="card-duracao"><i className="far fa-calendar-alt"></i> {precoInfo ? precoInfo.noites : 'Consulte'} | Sa√≠das: {pacote.saida || 'Vari√°vel'}</p>
                        <p>{pacote.desc}</p>
                        
                        {precoMaisBaixoParcela && precoTotal ? (
                            <div className="pacote-price-box">
                                
                                <span className="price-total-cash">
                                     {moedaSimbolo} {precoTotal.toLocaleString('pt-BR', { minimumFractionDigits: 0 })} √† vista *
                                </span>
                                
                                <span className="price-label">Parcele em at√© 10x de:</span>
                                <div className="price-value">
                                    <span className="installments">{moedaSimbolo}</span>
                                    <span className="main-price">{precoMaisBaixoParcela.toLocaleString('pt-BR', { minimumFractionDigits: 0 })}</span>
                                    <span className="taxes">/pessoa + taxas *</span>
                                </div>
                                
                                <div className="price-vip-discount">
                                    <i className="fas fa-certificate"></i> **GANHE {PROSPECT_DISCOUNT} EXTRA (Desconto VIP)**
                                </div>

                                <small style={{display: 'block', fontSize: '0.7em', color: '#777', marginTop: '5px'}}>
                                    *Pre√ßo "a partir de" por pessoa em apartamento duplo. V√°lido para a primeira viagem. Consulte o especialista para op√ß√µes de datas e voos.
                                </small>
                            </div>
                        ) : (
                            // Bloco de fallback se o scraping n√£o puder fornecer pre√ßo
                            <div style={{textAlign: 'center', marginTop: '15px'}}>
                                <span style={{fontWeight: 'bold', color: '#0056b3'}}>Consulte Disponibilidade e Or√ßamento VIP</span>
                            </div>
                        )}
                    </div>
                    <button 
                        className="btn-selecionar" 
                        onClick={() => onSelect(nomeCompleto)}
                        disabled={!precoMaisBaixoParcela && pacote.tipo !== 'CONSULTORIA'} 
                    >
                        {precoMaisBaixoParcela ? 'Selecionar Pacote e Falar com Especialista' : 'Solicitar Or√ßamento Personalizado'}
                    </button>
                </div>
            );
        };
        
        // --- COMPONENTE: Vitrine (Container) ---
        const VitrinePacotes = ({ pacotes, onSelect, pacoteSelecionado }) => {
            // ... (L√≥gica do VitrinePacotes mantida) ...
            const consultoria = pacotes.find(p => p.tipo === 'CONSULTORIA');
            const pacotesVisiveis = pacotes.filter(p => p.tipo !== 'CONSULTORIA').slice(0, 5); // Garante APENAS 5 pacotes

            return (
                <div className="vitrine-pacotes">
                    <h2>Melhores Ofertas de Pacotes de Viagem: 5 Destinos Imperd√≠veis + Consultoria VIP</h2>
                    <p style={{textAlign: 'center', marginBottom: '25px', color: '#555'}}>Clique no seu destino preferido para <strong>ativar seu Desconto VIP</strong> e ser atendido com <strong>prioridade</strong> por um especialista.</p>
                    <div className="pacotes-grid">
                        {pacotesVisiveis.map(pacote => (
                            <PacoteCard 
                                key={pacote.id} 
                                pacote={pacote} 
                                onSelect={onSelect} 
                                isSelected={pacoteSelecionado.includes(pacote.nome)}
                            />
                        ))}
                        {consultoria && (
                            <PacoteCard 
                                pacote={consultoria} 
                                onSelect={onSelect} 
                                isSelected={pacoteSelecionado.includes(consultoria.nome)}
                            />
                        )}
                    </div>
                </div>
            );
        };
        
        // --- NOVO COMPONENTE: OFERTA MSC BINGO ---
        const OfertaMSCBingo = () => {
            // Note: N√£o h√° l√≥gica de estado aqui, √© um componente puramente de apresenta√ß√£o.
            return (
                 <div className="oferta-container">

                    <div className="oferta-header">
                        <span>Garanta j√° sua cabine com a Super Bingo e economize!</span>
                        <a href="#" target="_blank">Ver Online</a>
                    </div>

                    <div className="oferta-body">
                        <div className="info-section">
                            <div style={{fontSize: '0.9em'}}>
                                Precisa de ajuda? &bull; <a href="#" style={{color: '#004481', textDecoration: 'none'}}>Visite nosso site</a>
                            </div>
                            {/* Ajuste o src conforme o caminho real da imagem */}
                            <img src="BRAZIL BRASIL.png" alt="MSC Brazil" />
                        </div>

                        <p style={{lineHeight: 1.5, marginBottom: '20px', fontSize: '0.95em'}}>
                            Com a Super Bingo, voc√™ garante economia sem abrir m√£o da experi√™ncia MSC.<br/>
                            Hospedagem, lazer e divers√£o com o melhor custo-benef√≠cio do mar.<br/>
                            Uma escolha inteligente para quem quer viajar mais e pagar menos.<br/>
                            E se quiser explorar mais, confira as demais ofertas no <a href="#" style={{color: '#004481', textDecoration: 'underline', fontWeight: 'bold'}}>Menu de Promo√ß√µes MSC</a>.
                        </p>

                        <h3 className="section-title">SUPER BINGO</h3>

                        <div className="cruzeiro-card-grid">

                            {/* CRUZEIRO 1 - PREZIOSA */}
                            <div className="cruzeiro-card">
                                <span className="super-bingo-tag">SUPER BINGO</span>
                                <img src="PREZIOSA.png" alt="MSC PREZIOSA" />
                                <p className="navio-nome">MSC PREZIOSA</p>
                                <p className="detalhes">04/11/2025 | 3 NOITES<br/>Embarque em Santos</p>
                                <span className="preco-label">a partir de</span>
                                <p className="preco">12x R$153</p>
                                <span className="parcela">p.p.</span>
                                <a href="#" className="btn-reserva-msc">RESERVA AGORA</a>
                            </div>

                            {/* CRUZEIRO 2 - ARMONIA */}
                            <div className="cruzeiro-card">
                                <span className="super-bingo-tag">SUPER BINGO</span>
                                <img src="ARMONIA.png" alt="MSC ARMONIA" />
                                <p className="navio-nome">MSC ARMONIA</p>
                                <p className="detalhes">17/12/2025 | 3 NOITES<br/>Embarque no Rio</p>
                                <span className="preco-label">a partir de</span>
                                <p className="preco">12x R$235</p>
                                <span className="parcela">p.p.</span>
                                <a href="#" className="btn-reserva-msc">RESERVA AGORA</a>
                            </div>

                            {/* CRUZEIRO 3 - SEAVIEW */}
                            <div className="cruzeiro-card">
                                <span className="super-bingo-tag">SUPER BINGO</span>
                                <img src="essa aqui seaview.png" alt="MSC SEAVIEW" />
                                <p className="navio-nome">MSC SEAVIEW</p>
                                <p className="detalhes">06/12/2025 | 7 NOITES<br/>Embarque em Santos</p>
                                <span className="preco-label">a partir de</span>
                                <p className="preco">12x R$369</p>
                                <span className="parcela">p.p.</span>
                                <a href="#" className="btn-reserva-msc">RESERVA AGORA</a>
                            </div>

                        </div> {/* FIM CRUZEIRO-CARD-GRID */}

                        <div className="beneficios-grid">
                            <div className="beneficio-item-msc">
                                Ideal para quem busca os melhores pre√ßos para as pr√≥ximas f√©rias de ver√£o
                            </div>
                            <div className="beneficio-item-msc">
                                Mais flexibilidade para alterar datas, escolher cabine e turno de jantar
                            </div>
                            <div className="beneficio-item-msc">
                                Pacote de bebidas incluso e com desconto para uma experi√™ncia mais completa.
                            </div>
                        </div>

                        <a href="#" className="btn-ver-todas-msc">VER TODAS √ÅS SA√çDAS</a>
                        
                        <div style={{textAlign: 'center', marginBottom: '20px', padding: '10px 0'}}>
                            <p style={{fontSize: '1.1em', fontWeight: 'bold', color: '#333'}}>Procurando inspira√ß√µes para a sua pr√≥xima viagem?</p>
                            {/* Espa√ßo para inspira√ß√µes (Vazio no original) */}
                        </div>

                        <div className="regras-section">
                            <h4>Regras e Restri√ß√µes da Tarifa Promocional - Super Bingo</h4>

                            <div className="regra-item">
                                Tarifa v√°lida exclusivamente para cabines duplas garantidas, ou seja, sem numera√ß√£o e sem localiza√ß√£o pr√©-determinadas. O h√≥spede somente ter√° conhecimento de sua cabine em at√© 4 dias antes do embarque, sem direito a substitui√ß√£o.
                            </div>
                            <div className="regra-item">
                                Sem possibilidade de escolha do hor√°rio do turno de jantar preferido.
                            </div>
                            <div className="regra-item">
                                Restrita a navio e data de embarque espec√≠ficos.
                            </div>
                            <div className="regra-item">
                                Pre√ßos por pessoa em acomoda√ß√£o dupla. Suplemento individual de 100%. Confirma√ß√£o sujeita a disponibilidade.
                            </div>
                            <div className="regra-item">
                                A substitui√ß√£o de h√≥spede implicar√° na cobran√ßa de taxa de altera√ß√£o de R$ 135,00, sendo que este valor n√£o poder√° ser superior ao valor do cruzeiro.
                            </div>

                            <p style={{fontWeight: 'bold', marginTop: '20px', marginBottom: '5px', fontSize: '0.9em', color: '#e50020'}}>Penalidade em caso de cancelamento:</p>
                            <div style={{fontSize: '0.8em', marginLeft: '10px'}}>
                                <p>Em caso de cancelamento de cabine referente a pacote contratado pela tarifa Super Bingo, ser√£o reembols√°veis os seguintes valores:</p>
                                <ul>
                                    <li>(i) cancelamento at√© 31 (trinta e um) dias antes da data do embarque: multa de 50% (cinquenta por cento) do valor pago, exclu√≠dos os impostos;</li>
                                    <li>(ii) cancelamento entre 30 (trinta) dias e 0 (zero) dia (no show) antes da data do embarque: multa de 100% (cem por cento) do valor pago j√° inclu√≠dos os impostos.</li>
                                </ul>
                            </div>
                            <div className="regra-item" style={{marginTop: '10px'}}>
                                N√£o cumulativa a outra promo√ß√£o ou desconto vigente, incluindo o desconto MSC Voyagers Club.
                            </div>
                            <div className="regra-item">
                                Pre√ßo por pessoa em acomoda√ß√£o dupla. Para cabines single (com um √∫nico h√≥spede) poder√° haver um valor adicional de at√© 100% na tarifa do cruzeiro.
                            </div>
                            
                            <p style={{fontWeight: 'bold', margin: '15px 0 5px', fontSize: '0.9em'}}>Detalhes das Sa√≠das:</p>
                            <table className="regras-tabela">
                                <thead>
                                    <tr>
                                        <th>Sa√≠da</th>
                                        <th>Navio</th>
                                        <th>Acomoda√ß√£o/Experi√™ncia</th>
                                        <th>Pre√ßo Total (R$)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>25/11/2025</td>
                                        <td>MSC Preziosa</td>
                                        <td>cabine bingo interna/Bella</td>
                                        <td>1.825 p.p.</td>
                                    </tr>
                                    <tr>
                                        <td>17/12/2025</td>
                                        <td>MSC Armonia</td>
                                        <td>cabine bingo interna/Bella</td>
                                        <td>2.815 p.p.</td>
                                    </tr>
                                    <tr>
                                        <td>06/12/2025</td>
                                        <td>MSC Seaview</td>
                                        <td>cabine bingo/Bella</td>
                                        <td>4.423 p.p.</td>
                                    </tr>
                                </tbody>
                            </table>

                            <p style={{fontSize: '0.8em', marginTop: '15px', textAlign: 'center'}}>Por favor consulte os Termos e Condi√ß√µes de Reserva para mais detalhes.</p>
                            
                        </div> {/* FIM REGRAS E RESTRI√á√ïES */}
                        
                        <div className="oferta-footer">
                            <p>&copy; 2025 MSC Cruises S.A.Todos os direitos reservados. <a href="#" style={{color: '#666'}}>Descadastrar</a></p>
                        </div>

                    </div> {/* FIM OFERTA-BODY */}
                </div>
            );
        };
        // --- FIM NOVO COMPONENTE: OFERTA MSC BINGO ---


        // --- COMPONENTE PRINCIPAL (ATUALIZADO) ---
        const LandingPageFSR = () => { 
            const [nome, setNome] = React.useState('');
            const [telefone, setTelefone] = React.useState('');
            const [pacoteSelecionado, setPacoteSelecionado] = React.useState('');
            const [dataViagem, setDataViagem] = React.useState('');
            const [passageiros, setPassageiros] = React.useState(1); 
            const [destinoLivre, setDestinoLivre] = React.useState(''); 
            const [erro, setErro] = React.useState('');
            const [loadingLead, setLoadingLead] = React.useState(false); 
            
            // AGORA SEMPRE USA A VARI√ÅVEL QUE SER√Å ATUALIZADA NO BACKEND/CRON JOB
            const [pacotes, setPacotes] = React.useState(DADOS_ESTATICOS_ATUALIZAVEIS); 
            const [pacotesLoading, setPacotesLoading] = React.useState(false); 

            const minDate = React.useMemo(() => getMinDate(), []); 

            // === FUN√á√ÉO AJUSTADA PARA FOCAR NO PRIMEIRO CAMPO ===
            const handlePacoteChange = (value) => {
                setPacoteSelecionado(value);
                if (value !== 'Consultoria Personalizada / Outro Destino') {
                    setDestinoLivre('');
                } else if (value.includes('Consultoria Personalizada / Outro Destino')) {
                    setPacoteSelecionado('Consultoria Personalizada / Outro Destino');
                }
                
                const nomeInput = document.querySelector('#nome-input');
                const formElement = document.querySelector('.form');

                if (nomeInput && formElement) {
                     // 1. Rola para o formul√°rio
                     formElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                     
                     // 2. Adiciona o highlight e remove ap√≥s 2 segundos
                     formElement.classList.add('highlighted');
                     setTimeout(() => {
                         formElement.classList.remove('highlighted');
                     }, 2000); 

                     // 3. Define o foco no primeiro campo (nome)
                     setTimeout(() => {
                         nomeInput.focus();
                     }, 700); 
                }
            };
            
            const handlePassageirosChange = (e) => {
                const value = e.target.value;
                if (value === '') { setPassageiros(''); return; }
                let num = parseInt(value);
                if (!isNaN(num) && num >= 1) { setPassageiros(num); } 
                else if (num < 1) { setPassageiros(1); }
            };

            const validateForm = (finalPacote, finalPassageiros) => {
                if (!finalPacote || finalPacote.trim() === '' || finalPacote.includes('Nenhum pacote selecionado')) {
                    setErro('‚ùå Sele√ß√£o obrigat√≥ria! Por favor, **clique em um dos cards de pacotes acima** ou escolha a Consultoria Personalizada.');
                    return false;
                }
                
                if (!nome || !telefone) {
                    setErro('‚ùå Atendimento Priorit√°rio Requerido! Por favor, preencha o **Nome** e **WhatsApp** para prosseguir com a consultoria VIP.');
                    return false;
                }
                
                if (!TELEFONE_REGEX.test(telefone)) {
                    setErro('‚ùå Telefone inv√°lido. Insira apenas os 10 ou 11 d√≠gitos, incluindo o DDD (Ex: 61983163710).');
                    return false;
                }

                if (finalPassageiros < 1) {
                    setErro('‚ùå O n√∫mero de passageiros deve ser, no m√≠nimo, 1.');
                    return false;
                }

                if (dataViagem && dataViagem < minDate) {
                    const minDateFormatted = new Date(minDate).toLocaleDateString('pt-BR');
                    setErro(`‚ùå A data de viagem deve ser no m√≠nimo ${minDateFormatted} (4 dias de anteced√™ncia para planejamento).`);
                    return false;
                }
                
                return true;
            };

            const handleWhatsAppRedirect = async (e) => {
                e.preventDefault();
                setErro('');
                
                const finalPassageiros = parseInt(passageiros) || 1;
                
                let finalPacote = pacoteSelecionado;
                
                if (finalPacote === 'Consultoria Personalizada / Outro Destino') {
                    if (destinoLivre.trim()) {
                        finalPacote = `Consultoria Personalizada / Outro Destino: ${destinoLivre.trim()}`;
                    } else {
                        setErro('‚ùå Por favor, digite o destino desejado no campo "Qual o Destino/Roteiro que voc√™ gostaria?".');
                        return;
                    }
                }
                
                if (!validateForm(finalPacote, finalPassageiros)) {
                    return;
                }
                
                setLoadingLead(true);

                const formData = {
                    nome, telefone, pacoteSelecionado: finalPacote, dataViagem, passageiros: finalPassageiros,
                    origem_lead: 'LandingPage_VIP',
                    data_captura: new Date().toISOString()
                };

                const descritivoRoteiro = obterDescritivoRoteiro(finalPacote);
                
                const dataFormatada = dataViagem 
                    ? new Date(dataViagem).toLocaleDateString('pt-BR', {timeZone: 'UTC'}) 
                    : 'üóìÔ∏è A DEFINIR (Gostaria de op√ß√µes)';

                let mensagem = `*ATENDIMENTO PRIORIT√ÅRIO - VIAJANTE SITE*

Ol√°, Consultor(a) Especializado(a) da FSR Viagens! Meu nome √© *${nome}* e meu WhatsApp √© *${telefone}*.
Tenho interesse em garantir meu *Desconto VIP de ${PROSPECT_DISCOUNT} OFF* na minha primeira compra e prosseguir com a consultoria.

*1. Pacote de Interesse (Foco da Consultoria):*
‚úàÔ∏è *${finalPacote}*
${descritivoRoteiro}

*2. Detalhes da Viagem:*
- Passageiros: ${finalPassageiros}
- Data Pretendida: ${dataFormatada}

*3. Pr√≥ximos Passos (Para o Consultor):*
- Cliente j√° ciente do Desconto VIP e buscando fechar a consultoria.
- Solicitar a melhor data/hor√°rio para iniciar o planejamento estrat√©gico e agendar a chamada.
`;

                const encodedMessage = encodeURIComponent(mensagem);
                const whatsappURL = `https://api.whatsapp.com/send?phone=${WHATSAPP_NUMBER}&text=${encodedMessage}`;

                try {
                    const response = await fetch(API_LEAD_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(formData)
                    });

                    if (!response.ok) {
                        const result = await response.json();
                        console.error("Erro ao salvar o lead no servidor (Automa√ß√£o):", result.message);
                    }
                    
                    if (window.gtag) {
                        gtag('event', 'whatsapp_lead', {
                            'event_category': 'conversion',
                            'event_label': finalPacote,
                            'value': finalPassageiros,
                            'currency': 'BRL'
                        });
                    }

                    window.open(whatsappURL, '_blank');
                    
                } catch (error) {
                    console.error("Erro de rede no envio do lead:", error);
                    window.open(whatsappURL, '_blank'); 
                } finally {
                    setLoadingLead(false);
                }
            };

            return (
                <div className="container form-container">
                    <header className="header__content">
                        <img 
                            src="/static/logo_fsr0.webp" 
                            alt="FSR Viagens & Turismo Logo" 
                            className="logo__image"
                            width="200"
                            height="100" 
                            loading="lazy" />
                        <h1 className="hero__headline">
                            Pacotes Exclusivos FSR: Roteiros Nacionais e Internacionais com Consultoria Especializada
                        </h1>
                        <p className="hero__slogan">
                            Garanta <strong>{PROSPECT_DISCOUNT} OFF (Desconto VIP)</strong> na sua 1¬™ viagem com a seguran√ßa do <strong>Atendimento Priorit√°rio</strong> de nossos especialistas.
                        </p>
                        
                        <div className="offer-banner">
                            ‚ú® Oferta Exclusiva: Sua primeira compra garante um <strong>Desconto VIP de {PROSPECT_DISCOUNT} OFF</strong>!
                        </div>
                    </header>
                    
                    {/* IN√çCIO INCLUS√ÉO DO COMPONENTE MSC BINGO */}
                    <OfertaMSCBingo />
                    {/* FIM INCLUS√ÉO DO COMPONENTE MSC BINGO */}
                    
                    {!pacotesLoading && (
                        <VitrinePacotes 
                            pacotes={pacotes} 
                            onSelect={handlePacoteChange} 
                            pacoteSelecionado={pacoteSelecionado}
                        />
                    )}
                    
                    {pacotesLoading && (
                        <p className="loading-message loading-animation" style={{textAlign: 'center', margin: '40px 0'}}>
                            <i className="fas fa-spinner fa-spin"></i> <strong>Carregando ofertas exclusivas...</strong>
                        </p>
                    )}


                    <form onSubmit={handleWhatsAppRedirect} className="form">
                        
                        <fieldset className="form__fieldset">
                            <legend className="form__legend">1. Seus Dados * (Para Atendimento PRIORIT√ÅRIO e Desconto VIP)</legend>
                            <div className="form__group">
                                <label htmlFor="nome-input">Nome Completo:</label>
                                <input id="nome-input" type="text" value={nome} onChange={(e) => setNome(e.target.value)} placeholder="Seu nome (Obrigat√≥rio)" required/>
                            </div>
                            <div className="form__group">
                                <label htmlFor="telefone-input">WhatsApp (apenas n√∫meros, com DDD):</label>
                                <input id="telefone-input" type="tel" value={telefone} onChange={(e) => setTelefone(e.target.value.replace(/[^0-9]/g, ''))} placeholder="Ex: 61983163710 (Obrigat√≥rio)" minLength="10" maxLength="11" required/>
                                <small className="help-text"><i className="fab fa-whatsapp"></i> Seu atendimento ser√° iniciado **imediatamente** ap√≥s o envio.</small>
                            </div>
                        </fieldset>
                        
                        <fieldset className="form__fieldset"> 
                            <legend className="form__legend">2. Confirma√ß√£o do Roteiro *</legend>
                            <div className="form__group">
                                
                                <label htmlFor="pacote-selecionado-display">Pacote Escolhido:</label>
                                <input
                                    id="pacote-selecionado-display"
                                    type="text"
                                    value={pacoteSelecionado || 'Nenhum pacote selecionado. Clique em um card acima.'}
                                    readOnly
                                    className={`selected-pacote-display ${pacoteSelecionado && !pacoteSelecionado.includes('Nenhum pacote') ? 'is-selected' : 'not-selected'}`}
                                    required
                                />

                                {pacoteSelecionado.includes('Consultoria Personalizada / Outro Destino') && (
                                    <div style={{ marginTop: '15px' }}>
                                        <label htmlFor="destino-livre-input">Qual o Destino/Roteiro que voc√™ gostaria?</label>
                                        <input 
                                            id="destino-livre-input"
                                            type="text" 
                                            value={destinoLivre} 
                                            onChange={(e) => setDestinoLivre(e.target.value)} 
                                            placeholder="Digite o destino ou roteiro desejado (Ex: Patag√¥nia em janeiro)"
                                            required
                                        />
                                    </div>
                                )}
                            </div>
                        </fieldset>
                        
                        <fieldset className="form__fieldset">
                            <legend className="form__legend">3. Detalhes (Para Agilizar a Consultoria)</legend>
                            <div className="form__group">
                                <label htmlFor="passageiros-input">Quantidade de Viajantes *:</label>
                                <input id="passageiros-input" type="number" min="1" value={passageiros} onChange={handlePassageirosChange} required/>
                            </div>
                            <div className="form__group">
                                <label htmlFor="data-viagem-input">Data Preferencial para Viagem (Opcional):</label>
                                <input 
                                    id="data-viagem-input" 
                                    type="date" 
                                    value={dataViagem} 
                                    onChange={(e) => setDataViagem(e.target.value)} 
                                    min={minDate}
                                    title="A sa√≠da da viagem deve ter anteced√™ncia m√≠nima de 4 dias para planejamento."
                                />
                                <small className="help-text">Selecione uma data para or√ßamento preciso, ou deixe em branco para op√ß√µes nos **pr√≥ximos meses**. A **sa√≠da da viagem** deve ter **anteced√™ncia m√≠nima de 4 dias (96 horas)**.</small>
                            </div>
                        </fieldset>

                        {erro && <p className="error-message form__alert" role="alert" aria-live="assertive" aria-atomic="true">{erro}</p>}

                        <button type="submit" className="btn btn--cta" disabled={loadingLead || pacotesLoading || !pacoteSelecionado || pacoteSelecionado.includes('Nenhum pacote')}>
                            <i className="fab fa-whatsapp"></i> 
                            {loadingLead ? 'Processando e Gerando Desconto VIP...' : 
                            `Garantir Desconto VIP e Falar Agora`}
                        </button>

                        <p className="final-call-to-action">
                            <i className="fas fa-tag"></i> *Seu <strong>Desconto VIP</strong> de {PROSPECT_DISCOUNT} est√° reservado. V√°lido para o 1¬∫ pacote fechado.
                        </p>
                        
                        <div style={{textAlign: 'center', marginTop: '15px'}}>
                            <small>Ao prosseguir, voc√™ concorda com nossos <a href="/politica-de-privacidade.html" target="_blank">Termos e Pol√≠tica de Privacidade</a> (LGPD).</small>
                        </div>
                    </form>
                    
                    <footer className="footer">
                        <p className="expert-seal">
                            <strong>Seguran√ßa e Experi√™ncia</strong>: A FSR Viagens √© especializada desde <i className="fas fa-user-tie"></i> <strong>2004</strong>.
                        </p>
                        <p>
                            Atendimento R√°pido e Personalizado | <a href={`https://wa.me/${WHATSAPP_NUMBER}`} target="_blank" rel="noopener noreferrer" className="whatsapp-link">
                            <i className="fab fa-whatsapp"></i> WhatsApp: (61) 98316-3710</a>
                        </p>
                        <p>&copy; {new Date().getFullYear()} FSR Viagens e Turismo. Todos os direitos reservados.</p>
                        
                        <nav class="admin-nav">
                            <ul>
                                <li>
                                    <a href="leads.html">Gerenciamento de Leads</a>
                                </li>
                            </ul>
                        </nav>
                    </footer>
                </div>
            );
        };
        
        const container = document.getElementById('root');
        if (container) {
            const root = ReactDOM.createRoot(container);
            root.render(<LandingPageFSR />);
        } else {
            console.error("Elemento 'root' n√£o encontrado. A p√°gina n√£o ser√° renderizada.");
        }
{% endraw %}
    </script>
</body>
</html>
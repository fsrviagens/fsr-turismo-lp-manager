<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSR Viagens | Desconto VIP na 1¬™ Viagem e Consultoria Especializada</title>
    
    <link rel="stylesheet" href="/static/style.css"> 
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <meta name="description" content="Consultoria de viagens especializada desde 2004. Escolha seu pacote FSR e garanta um Desconto VIP de 5% OFF.">

    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Estilos de fallback e min-heights */
        .pacote-card, .card-consultoria { min-height: 430px; } 
        .pacote-card img { height: 180px; object-fit: cover; }
        .pacote-content h3 { min-height: 40px; }
        .pacote-content p { min-height: 60px; } 
    </style>
</head>
<body>
    <div id="root">
    </div>

    <script type="text/babel">
{% raw %}
        // Endpoints e Constantes
        const API_PAC_URL = '/api/pacotes'; 
        const WHATSAPP_NUMBER = '5561983163710';
        const API_LEAD_URL = '/capturar_lead';
        const TELEFONE_REGEX = /^\d{10,11}/; 
        
        // Gatilho de Compra / Desconto VIP
        const PROSPECT_DISCOUNT = '5%';

        // --- DADOS PARA OS CARDS E FALLBACK ---
        // Rotas de Imagens de uso livre (Placeholder - Use imagens do seu servidor)
        const getImageUrl = (key) => {
            const IMAGENS = {
                // IMAGENS ATUALIZADAS PELO CLIENTE (Root do reposit√≥rio)
                'Len√ß√≥is Maranhenses': 'Duna-e-agua-dos-lencois-Maranhenses.jpg', 
                'Tail√¢ndia': 'Festival_Lanternas_Chiang_Mai_Tailandia_Fogos.jpg', 
                'Gramado': 'GramadoSuaViagem-GrandeDesfileDeNatal2.webp', 
                'Porto de Galinhas': 'dicas-de-porto-de-galinhas.jpg', 
                'Salvador': 'tucamorais3.jpg', 
                
                // Imagens que mant√™m os links de placeholder
                'Fortaleza': 'https://images.unsplash.com/photo-1549419163-912a52af5f5d?w=400&h=200&fit=crop', 
                'Egito': 'https://images.unsplash.com/photo-1523451551525-2c8c5026c483?w=400&h=200&fit=crop', 
                'Turquia': 'https://images.unsplash.com/photo-1582035900554-75af47f2010c?w=400&h=200&fit=crop', 
                'Customizado': 'https://images.unsplash.com/photo-1454486518536-54a86b3a0e63?w=400&h=200&fit=crop', // Mapa/Globo
            };
            return IMAGENS[key] || IMAGENS['Customizado']; 
        };

        const DADOS_FALLBACK = [
            // Pacotes Nacionais
            { id: 101, nome: "Porto de Galinhas e Maragogi", saida: "Londrina e Maring√°", tipo: "NACIONAL", desc: "üê† O melhor do Nordeste! Mergulhe nas piscinas naturais e desfrute do famoso 'Caribe Brasileiro'.", imgKey: 'Porto de Galinhas' },
            { id: 102, nome: "Salvador com Morro de S√£o Paulo", saida: "Variadas (Bloqueios Nacionais)", tipo: "NACIONAL", desc: "üèùÔ∏è Combina√ß√£o imbat√≠vel de cidade hist√≥rica e ilha sem carros. Descanse e explore Morro de S√£o Paulo.", imgKey: 'Salvador' },
            { id: 103, nome: "Len√ß√≥is Maranhenses | S√£o Lu√≠s e Barreirinhas", saida: "Bras√≠lia (Bloqueios)", tipo: "NACIONAL", desc: "üíß Descubra a beleza surreal das lagoas entre dunas. Um ecoturismo inesquec√≠vel.", imgKey: 'Len√ß√≥is Maranhenses' },
            { id: 104, nome: "Gramado | Natal Luz e Roteiro de Vinhos", saida: "S√£o Paulo, Porto Alegre e Curitiba", tipo: "NACIONAL", desc: "üç∑ Experi√™ncia completa com o Natal Luz e tours pelas vin√≠colas da Serra Ga√∫cha.", imgKey: 'Gramado' },
            
            // Pacotes Internacionais
            { id: 105, nome: "R√©veillon na Tail√¢ndia com Festival das Lanternas", saida: "Variadas (Bloqueios Internacionais)", tipo: "INTERNACIONAL", desc: "üéá Celebre a virada com o m√°gico Festival das Lanternas. Praias e templos milenares.", imgKey: 'Tail√¢ndia' },
            { id: 106, nome: "Egito 2X1 | Pacote 08 dias e 07 noites", saida: "S√£o Paulo, Rio de Janeiro (Bloqueios)", tipo: "INTERNACIONAL", desc: "üê™ Pacote 2X1, jornada pela hist√≥ria milenar, pir√¢mides e cruzeiro pelo Nilo. √önico!", imgKey: 'Egito' },
            { id: 107, nome: "Grand Turquia Extra 2026 Essencial", saida: "Variadas", tipo: "INTERNACIONAL", desc: "üáπüá∑ Pacote pela Turquia, visitando Istambul, Capad√≥cia e Pamukkale. Cultura e paisagens.", imgKey: 'Turquia' },
            
            // Op√ß√£o de Personaliza√ß√£o (Sempre no fim)
            { id: 999, nome: "Consultoria Personalizada / Outro Destino", saida: "Seu aeroporto de prefer√™ncia", tipo: "CONSULTORIA", desc: "‚ú® Destino Sob Medida: Crie seu roteiro do zero e garanta seu Desconto VIP na primeira compra.", imgKey: 'Customizado' }
        ];
        // -----------------------------------------------------

        // Mapeamento de Descritivos (Para enriquecer a mensagem do WhatsApp)
        const DESCRITIVOS_ROTEIROS = {
            "Fortaleza com Praia da Lagoinha": "‚òÄÔ∏è Roteiro perfeito para quem ama sol, mar e aventura. Inclui a beleza r√∫stica da Praia da Lagoinha e o agito da capital cearense.",
            "Salvador com Morro de S√£o Paulo": "üèùÔ∏è Uma combina√ß√£o imbat√≠vel de cidade hist√≥rica e ilha sem carros. Descanse e explore as famosas praias de Morro de S√£o Paulo.",
            "Egito 2X1 | Pacote 08 dias e 07 noites": "üê™ Pacote 2X1, uma jornada pela hist√≥ria milenar, pir√¢mides e cruzeiro pelo Nilo. Oportunidade √∫nica para ir al√©m do comum!",
            "R√©veillon na Tail√¢ndia com Festival das Lanternas": "üéá Celebre a virada do ano com o m√°gico Festival das Lanternas (Yi Peng). Praias paradis√≠acas e templos milenares esperam por voc√™.",
            "Len√ß√≥is Maranhenses | S√£o Lu√≠s e Barreirinhas": "üíß Descubra a beleza surreal das lagoas entre dunas. Um ecoturismo inesquec√≠vel combinando S√£o Lu√≠s e Barreirinhas.",
            "Porto de Galinhas e Maragogi": "üê† O melhor do Nordeste! Mergulhe nas piscinas naturais e desfrute do famoso 'Caribe Brasileiro'.",
            "R√©veillon 2026 - Cost√£o do Santinho Resort": "üéâ R√©veillon All Inclusive em um dos resorts mais desejados do Brasil. Garanta sua vaga com as melhores condi√ß√µes.",
            "Grand Turquia Extra 2026 Essencial": "üáπüá∑ Pacote Essencial pela Turquia, visitando Istambul, Capad√≥cia e Pamukkale. Cultura, hist√≥ria e paisagens inesquec√≠veis.",
            "Consultoria Personalizada / Outro Destino": "‚ú® Destino Sob Medida: Voc√™ tem em mente um roteiro que n√£o encontrou na lista? Nossa consultoria criar√° o pacote perfeito para voc√™!",
        };

        // Fun√ß√£o utilit√°ria para obter a data m√≠nima permitida (hoje + 4 dias)
        const getMinDate = () => {
            const date = new Date();
            date.setDate(date.getDate() + 4); 
            return date.toISOString().split('T')[0];
        };
        
        // Fun√ß√£o para obter o descritivo a partir do nome do pacote
        const obterDescritivoRoteiro = (pacoteNomeCompleto) => {
            if (pacoteNomeCompleto.includes("Consultoria Personalizada")) {
                return DESCRITIVOS_ROTEIROS["Consultoria Personalizada / Outro Destino"];
            }
            
            const nomeBase = pacoteNomeCompleto.split('|')[0].trim(); 
            
            if (DESCRITIVOS_ROTEIROS[nomeBase]) {
                return DESCRITIVOS_ROTEIROS[nomeBase];
            }
            
            const pacoteFallback = DADOS_FALLBACK.find(p => p.nome.includes(nomeBase));
            if (pacoteFallback && pacoteFallback.desc) {
                return pacoteFallback.desc;
            }
            
            return `‚úàÔ∏è Consultoria Exclusiva: Conte-nos seus sonhos para criarmos uma experi√™ncia Incomum e aplicarmos seu ${PROSPECT_DISCOUNT} de Desconto VIP!`;
        };
        
        // --- NOVO COMPONENTE: Card de Pacote Individual ---
        const PacoteCard = ({ pacote, onSelect }) => {
            const nomeCompleto = pacote.nome + (pacote.saida ? ` | Sa√≠da: ${pacote.saida}` : '');
            
            if (pacote.tipo === 'CONSULTORIA') {
                return (
                    <div className="pacote-card card-consultoria">
                        <i className="fas fa-magic" style={{ fontSize: '40px', marginBottom: '15px' }}></i>
                        <h3>{pacote.nome}</h3>
                        <p>{pacote.desc}</p>
                        <button 
                            className="btn-selecionar" 
                            onClick={() => onSelect(pacote.nome)}
                        >
                            <i className="fas fa-tools"></i> Planejar Meu Roteiro
                        </button>
                    </div>
                );
            }

            return (
                <div className="pacote-card">
                    <img src={getImageUrl(pacote.imgKey)} alt={`Imagem de ${pacote.nome}`} loading="lazy" />
                    <div className="pacote-content">
                        <h3><i className={`fas fa-${pacote.tipo === 'NACIONAL' ? 'plane-departure' : 'globe-americas'}`}></i> {pacote.nome}</h3>
                        <p>{pacote.desc}</p>
                        <span className="saida">Sa√≠da: {pacote.saida || 'Vari√°vel'}</span>
                    </div>
                    <button 
                        className="btn-selecionar" 
                        onClick={() => onSelect(nomeCompleto)}
                    >
                        Selecionar e Garantir Desconto VIP
                    </button>
                </div>
            );
        };
        
        // --- NOVO COMPONENTE: Vitrine (Container) ---
        const VitrinePacotes = ({ pacotes, onSelect }) => {
            // Separa os pacotes e a op√ß√£o de consultoria
            const consultoria = pacotes.find(p => p.tipo === 'CONSULTORIA');
            const pacotesVisiveis = pacotes.filter(p => p.tipo !== 'CONSULTORIA');

            return (
                <div className="vitrine-pacotes">
                    <h2>Roteiros Sugeridos e Pacotes de Destaque <i className="fas fa-star"></i></h2>
                    <p style={{textAlign: 'center', marginBottom: '25px', color: '#555'}}>Selecione abaixo o pacote que mais te agrada ou crie um sob medida com nossa consultoria.</p>
                    <div className="pacotes-grid">
                        {pacotesVisiveis.slice(0, 5).map(pacote => (
                            <PacoteCard key={pacote.id} pacote={pacote} onSelect={onSelect} />
                        ))}
                        {consultoria && <PacoteCard pacote={consultoria} onSelect={onSelect} />}
                    </div>
                </div>
            );
        };
        
        // --- COMPONENTE PRINCIPAL ---
        const LandingPageFSR = () => { 
            const [nome, setNome] = React.useState('');
            const [telefone, setTelefone] = React.useState('');
            const [pacoteSelecionado, setPacoteSelecionado] = React.useState('');
            const [dataViagem, setDataViagem] = React.useState('');
            const [passageiros, setPassageiros] = React.useState(1); 
            const [erro, setErro] = React.useState('');
            const [loadingLead, setLoadingLead] = React.useState(false); 
            
            const [pacotes, setPacotes] = React.useState(DADOS_FALLBACK); // Usa o FALLBACK como inicial
            const [pacotesLoading, setPacotesLoading] = React.useState(true);
            const [destinoLivre, setDestinoLivre] = React.useState(''); 

            const minDate = React.useMemo(() => getMinDate(), []); 

            // ----------------------------------------------------
            // USE EFFECT: Busca de pacotes (Com Pausa M√≠nima Otimizada: 2.5s)
            // ----------------------------------------------------
            React.useEffect(() => {
                const fetchPacotes = async () => {
                    setPacotesLoading(true); 
                    
                    const startTime = Date.now(); 
                    let fetchedPacotes = [];

                    try {
                        const response = await fetch(API_PAC_URL); 
                        const data = await response.json();
                        
                        const consultoriaOption = DADOS_FALLBACK.find(p => p.tipo === 'CONSULTORIA');

                        if (response.ok && Array.isArray(data) && data.length > 0) {
                            fetchedPacotes = [...data, consultoriaOption];
                        } else {
                            fetchedPacotes = DADOS_FALLBACK;
                        }
                        
                    } catch (error) {
                        console.error("Erro de rede ao carregar pacotes. Usando Fallback.", error);
                        fetchedPacotes = DADOS_FALLBACK;
                    }
                    
                    const elapsed = Date.now() - startTime;
                    const requiredDelay = 2500; 

                    const finalAction = () => {
                        setPacotes(fetchedPacotes);
                        setPacotesLoading(false);
                    };

                    if (elapsed < requiredDelay) {
                        setTimeout(finalAction, requiredDelay - elapsed);
                    } else {
                        finalAction();
                    }
                };

                fetchPacotes();
            }, []);
            // ----------------------------------------------------
            
            const handlePacoteChange = (value) => {
                setPacoteSelecionado(value);
                if (value !== 'Consultoria Personalizada / Outro Destino') {
                    setDestinoLivre('');
                } else if (value.includes('Consultoria Personalizada / Outro Destino')) {
                    setPacoteSelecionado('Consultoria Personalizada / Outro Destino');
                }
            };
            
            const handlePassageirosChange = (e) => {
                const value = e.target.value;
                if (value === '') { setPassageiros(''); return; }
                let num = parseInt(value);
                if (!isNaN(num) && num >= 1) { setPassageiros(num); } 
                else if (num < 1) { setPassageiros(1); }
            };

            const validateForm = (finalPacote, finalPassageiros) => {
                if (!nome || !telefone || !finalPacote) {
                    setErro('‚ùå Informa√ß√µes Cruciais Faltando! Por favor, preencha o Nome, Telefone e Pacote/Destino antes de prosseguir.');
                    return false;
                }
                
                if (!TELEFONE_REGEX.test(telefone)) {
                    setErro('‚ùå Telefone inv√°lido. Insira apenas os 10 ou 11 d√≠gitos, incluindo o DDD (Ex: 61983163710).');
                    return false;
                }

                if (finalPassageiros < 1) {
                    setErro('‚ùå O n√∫mero de passageiros deve ser no m√≠nimo 1.');
                    return false;
                }

                if (dataViagem && dataViagem < minDate) {
                    const minDateFormatted = new Date(minDate).toLocaleDateString('pt-BR');
                    setErro(`‚ùå A data de viagem deve ser no m√≠nimo ${minDateFormatted} (4 dias de anteced√™ncia para processamento).`);
                    return false;
                }
                
                return true;
            };

            const handleWhatsAppRedirect = async (e) => {
                e.preventDefault();
                setErro('');
                
                const finalPassageiros = parseInt(passageiros) || 1;
                
                let finalPacote = pacoteSelecionado;
                if (finalPacote === 'Consultoria Personalizada / Outro Destino' && destinoLivre.trim()) {
                    finalPacote = `Consultoria Personalizada / Outro Destino: ${destinoLivre.trim()}`;
                } else if (finalPacote === 'Consultoria Personalizada / Outro Destino' && !destinoLivre.trim()) {
                    setErro('‚ùå Por favor, digite o destino desejado ou escolha um da lista.');
                    return;
                }
                
                if (!validateForm(finalPacote, finalPassageiros)) {
                    return;
                }
                
                setLoadingLead(true);

                const formData = {
                    nome, telefone, pacoteSelecionado: finalPacote, dataViagem, passageiros: finalPassageiros,
                    origem_lead: 'LandingPage_VIP',
                    data_captura: new Date().toISOString()
                };

                const descritivoRoteiro = obterDescritivoRoteiro(finalPacote);
                
                const dataFormatada = dataViagem 
                    ? new Date(dataViagem).toLocaleDateString('pt-BR', {timeZone: 'UTC'}) 
                    : 'üóìÔ∏è A DEFINIR (Gostaria de op√ß√µes)';

                let mensagem = `*ATENDIMENTO PRIORIT√ÅRIO - VIAJANTE SITE*

Ol√°, Consultor Especializado da FSR Viagens! Meu nome √© *${nome}* e meu WhatsApp √© *${telefone}*.
Tenho interesse em garantir meu *Desconto VIP de ${PROSPECT_DISCOUNT} OFF* na minha primeira compra e prosseguir com a consultoria.

*1. Pacote de Interesse (Foco da Consultoria):*
‚úàÔ∏è *${finalPacote}*
${descritivoRoteiro}

*2. Detalhes da Viagem:*
- Passageiros: ${finalPassageiros}
- Data Pretendida: ${dataFormatada}

*3. Pr√≥ximos Passos (Para o Consultor):*
- Cliente j√° ciente do Desconto VIP e buscando fechar a consultoria.
- Solicite a melhor data/hor√°rio para iniciar o planejamento estrat√©gico.
`;

                const encodedMessage = encodeURIComponent(mensagem);
                const whatsappURL = `https://api.whatsapp.com/send?phone=${WHATSAPP_NUMBER}&text=${encodedMessage}`;

                try {
                    const response = await fetch(API_LEAD_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(formData)
                    });

                    if (!response.ok) {
                        const result = await response.json();
                        console.error("Erro ao salvar o lead no servidor (Automa√ß√£o):", result.message);
                    }
                    
                    window.open(whatsappURL, '_blank');
                    
                } catch (error) {
                    console.error("Erro de rede no envio do lead:", error);
                    window.open(whatsappURL, '_blank'); // Redireciona mesmo se a API de lead falhar
                } finally {
                    setLoadingLead(false);
                }
            };

            return (
                <div className="container form-container">
                    <header className="header__content">
                        <img 
                            src="/static/logo_fsr0.webp" 
                            alt="FSR Viagens & Turismo Logo" 
                            className="logo__image"
                            width="200"
                            height="100" 
                        />
                        <h1 className="hero__headline">
                            Pacotes com Consultoria T√©cnica e **Benef√≠cio VIP**
                        </h1>
                        <p className="hero__slogan">
                            Sua viagem Incomum come√ßa aqui! Selecione seu roteiro e garanta um atendimento **priorit√°rio** e seu **Desconto Exclusivo**.
                        </p>
                        
                        {/* GATILHO DE VENDA: DESCONTO VIP */}
                        <div className="offer-banner">
                            ‚ú® OFERTA EXCLUSIVA: Sua primeira compra garante um **Desconto VIP de {PROSPECT_DISCOUNT} OFF**!
                        </div>
                    </header>
                    
                    {/* INCLUS√ÉO DA VITRINE DE PACOTES */}
                    {!pacotesLoading && (
                        <VitrinePacotes 
                            pacotes={pacotes} 
                            onSelect={handlePacoteChange} 
                        />
                    )}

                    <form onSubmit={handleWhatsAppRedirect} className="form">
                        
                        {/* 1. Sele√ß√£o do Pacote */}
                        <fieldset className="form__fieldset"> 
                            <legend className="form__legend">1. Confirma√ß√£o do Roteiro (Selecionado acima ou no seletor) *</legend>
                            <div className="form__group">
                                <label htmlFor="pacote-select">Pacote de Interesse:</label>
                                
                                {/* MENSAGEM DE CARREGAMENTO (Aparece se a vitrine n√£o carregou) */}
                                {pacotesLoading && (
                                    <p className="loading-message loading-animation">
                                        <i className="fas fa-spinner fa-spin"></i> **Analisando milhares de ofertas exclusivas** para encontrar o seu pacote ideal... Otimizando seu tempo!
                                    </p>
                                )}
                                
                                {/* SELETOR DE PACOTES */}
                                {!pacotesLoading && (
                                    <>
                                        <select
                                            id="pacote-select"
                                            value={pacoteSelecionado}
                                            onChange={(e) => handlePacoteChange(e.target.value)}
                                            required
                                            title="Escolha um dos pacotes varridos ou a op√ß√£o de consultoria personalizada."
                                        >
                                            <option value="">-- Escolha um Destino Irresist√≠vel (Selecione um Card ou utilize o Seletor) --</option>
                                            {/* OP√á√ÉO DE OUTRO DESTINO SEMPRE DISPON√çVEL */}
                                            <option value="Consultoria Personalizada / Outro Destino">‚úàÔ∏è OUTRO DESTINO (Consultoria Personalizada / Desconto VIP)</option>
                                            
                                            {pacotes
                                                .filter(p => p.tipo !== 'CONSULTORIA') // N√£o duplica a op√ß√£o
                                                .map((pacote) => (
                                                <option key={pacote.id} value={`${pacote.nome} | Sa√≠da: ${pacote.saida || 'Vari√°vel'}`}>
                                                    {pacote.nome} (Sa√≠da: {pacote.saida || 'Vari√°vel'})
                                                </option>
                                            ))}
                                        </select>
                                        
                                        {/* CAMPO DE TEXTO LIVRE CONDICIONAL */}
                                        {pacoteSelecionado === 'Consultoria Personalizada / Outro Destino' && (
                                            <div style={{ marginTop: '10px' }}>
                                                <input 
                                                    type="text" 
                                                    value={destinoLivre} 
                                                    onChange={(e) => setDestinoLivre(e.target.value)} 
                                                    placeholder="Digite o destino ou roteiro desejado (Ex: Patag√¥nia em Janeiro, 2026)"
                                                    required
                                                />
                                            </div>
                                        )}
                                    </>
                                )}
                            </div>
                        </fieldset>
                        
                        {/* 2. Dados Pessoais */}
                        <fieldset className="form__fieldset">
                            <legend className="form__legend">2. Seus Dados * (Para Atendimento Priorit√°rio Imediato)</legend>
                            <div className="form__group">
                                <label htmlFor="nome-input">Nome Completo:</label>
                                <input id="nome-input" type="text" value={nome} onChange={(e) => setNome(e.target.value)} placeholder="Seu nome (Obrigat√≥rio)" required/>
                            </div>
                            <div className="form__group">
                                <label htmlFor="telefone-input">WhatsApp (apenas n√∫meros, com DDD):</label>
                                <input id="telefone-input" type="tel" value={telefone} onChange={(e) => setTelefone(e.target.value.replace(/[^0-9]/g, ''))} placeholder="Ex: 61983163710 (Obrigat√≥rio)" minLength="10" maxLength="11" required/>
                                <small className="help-text">Garantimos a **prioridade** no contato se for um n√∫mero de WhatsApp v√°lido.</small>
                            </div>
                        </fieldset>

                        {/* 3. Detalhes da Viagem */}
                        <fieldset className="form__fieldset">
                            <legend className="form__legend">3. Detalhes (Para Agilizar a Consultoria)</legend>
                            <div className="form__group">
                                <label htmlFor="passageiros-input">Quantidade de Viajantes *:</label>
                                <input id="passageiros-input" type="number" min="1" value={passageiros} onChange={handlePassageirosChange} required/>
                            </div>
                            <div className="form__group">
                                <label htmlFor="data-viagem-input">Data Preferencial para Viagem (M√≠nimo 4 dias):</label>
                                <input 
                                    id="data-viagem-input" 
                                    type="date" 
                                    value={dataViagem} 
                                    onChange={(e) => setDataViagem(e.target.value)} 
                                    min={minDate}
                                    title="A data deve ter no m√≠nimo 4 dias de anteced√™ncia para planejamento."
                                />
                                <small className="help-text">Selecione uma data para um or√ßamento mais preciso.</small>
                            </div>
                        </fieldset>

                        {/* Acessibilidade para mensagens de erro e Bot√£o CTA */}
                        {erro && <p className="error-message form__alert" role="alert" aria-live="assertive" aria-atomic="true">{erro}</p>}

                        <button type="submit" className="btn btn--cta" disabled={loadingLead || pacotesLoading || !pacoteSelecionado}>
                            <i className="fab fa-whatsapp"></i> 
                            {loadingLead ? 'Processando dados e Encaminhando ao Consultor...' : 
                            `Falar com Especialista e Aplicar Meu Desconto VIP`}
                        </button>

                        <p className="final-call-to-action">
                            <i className="fas fa-tag"></i> *O **Desconto VIP** de {PROSPECT_DISCOUNT} ser√° aplicado no fechamento final do seu pacote exclusivo.
                        </p>
                    </form>
                    
                    <footer className="footer">
                        <p className="expert-seal">
                            Consultoria T√©cnica Especializada desde <i className="fas fa-user-tie"></i> **2004** | Seu especialista com vasta experi√™ncia de mercado.
                        </p>
                        <p>Atendimento R√°pido e Personalizado | <span className="whatsapp-link">WhatsApp: {WHATSAPP_NUMBER}</span></p>
                        <p>&copy; {new Date().getFullYear()} FSR Viagens & Turismo. Todos os direitos reservados.</p>
                    </footer>
                </div>
            );
        };
        
        // Renderiza o componente React
        const container = document.getElementById('root');
        if (container) {
            const root = ReactDOM.createRoot(container);
            root.render(<LandingPageFSR />);
        } else {
            console.error("Elemento 'root' n√£o encontrado. A p√°gina n√£o ser√° renderizada.");
        }
{% endraw %}
    </script>
</body>
</html>